# Stellar Burgers

## О проекте

Stellar Burgers - это веб-приложение для заказа бургеров, разработанное с использованием React, TypeScript и Redux Toolkit. Приложение позволяет пользователям собирать собственные бургеры из доступных ингредиентов, оформлять заказы и отслеживать их статус.

### Основной функционал

- Сборка бургера из доступных ингредиентов
- Оформление заказов (требуется авторизация)
- Просмотр ленты заказов
- Личный кабинет с историей заказов
- Регистрация и авторизация пользователей
- Восстановление пароля

### Технические особенности

- **Redux слайсы:**

  - `burgerConstructorSlice` - управление конструктором бургера
  - `userSlice` - управление данными пользователя
  - `currentOrderSlice` - управление текущим заказом
  - `feedOrdersSlice` - управление лентой заказов
  - `orderDetailsSlice` - детали заказа
  - `userOrdersSlice` - история заказов пользователя

- **Роутинг:**

  - Защищенные роуты для авторизованных пользователей
  - Модальные окна через роутинг
  - Редиректы для неавторизованных пользователей

- **Авторизация:**
  - JWT токены
  - Автоматическое обновление токена
  - Защита роутов

# Проектная работа 11-го спринта

[Макет](<https://www.figma.com/file/vIywAvqfkOIRWGOkfOnReY/React-Fullstack_-Проектные-задачи-(3-месяца)_external_link?type=design&node-id=0-1&mode=design>)

[Чеклист](https://www.notion.so/praktikum/0527c10b723d4873aa75686bad54b32e?pvs=4)

## Этапы работы:

1. Разверните проект и ознакомьтесь с кодом. Все необходимые вам компоненты уже созданы и лежат в папке `src/components`

2. Настройте роутинг.

3. Напишите функционал запросов данных с сервера, используя `Redux` и глобальный `store`. Сами "ручки" уже прописаны и лежат в `utils/burger-api.ts`

4. Настройте авторизацию и создайте защищённые роуты.

## Важно:

Для корректной работы запросов к серверу необходимо добавить переменную BURGER_API_URL в окружение. Сама ссылка находится в файле `.env.example`.

## Описание

Stellar Burger - это приложение для заказа бургеров, разработанное с использованием React, TypeScript и Redux Toolkit. Приложение позволяет пользователям собирать бургеры из различных ингредиентов, оформлять заказы и отслеживать их статус.

## Функциональность

- Сборка бургера из доступных ингредиентов
- Регистрация и авторизация пользователей
- Оформление заказов
- Просмотр истории заказов
- Отслеживание статуса заказа в реальном времени

## Технологии

- React
- TypeScript
- Redux Toolkit
- React Router
- WebSocket
- Jest
- Cypress

## Установка и запуск

1. Клонируйте репозиторий:

```bash
git clone https://github.com/your-username/stellar-burger.git
```

2. Установите зависимости:

```bash
npm install
```

3. Запустите приложение в режиме разработки:

```bash
npm start
```

4. Для сборки проекта:

```bash
npm run build
```

## Тестирование

### Запуск тестов

#### Jest тесты

Для запуска Jest тестов используйте команду:

```bash
npm test
```

Для проверки покрытия кода тестами:

```bash
npm run test:coverage
```

Проверка отдельных тестов:

- Запустите тесты для конкретных файлов:

```bash
npm test -- src/__tests__/components/BurgerIngredient.test.tsx
```

- Проверьте тесты для редьюсеров:

```bash
npm test -- src/__tests__/reducers
```

#### Cypress тесты

Для запуска Cypress тестов в интерактивном режиме:

- в отдельной консоли
```bash
npm start
```
- в отдельной консоли
```bash
npm run cypress:open
```
Эта команда откроет окно Cypress.
- Выберите "E2E Testing".
- Выберите браузер, в котором хотите запустить тесты.
- Выберите файл с тестами (например, constructor.cy.ts), чтобы запустить его, - или запустите все тесты.
- Этот режим удобен для визуальной отладки и просмотра шагов выполнения теста.

Для запуска Cypress тестов в headless режиме:

```bash
npm run cypress:run
```

### Структура тестов

#### Jest тесты

Jest тесты находятся в папке `__tests__` и рядом с тестируемыми файлами. Они проверяют:

- Корректную работу редьюсеров
- Обработку асинхронных экшенов
- Работу rootReducer
- Функциональность конструктора бургера

#### Cypress тесты

Cypress тесты находятся в папке `cypress/e2e`. Они проверяют:

- Добавление ингредиентов в конструктор
- Работу модальных окон
- Процесс создания заказа
- Навигацию по приложению

### Моки и фикстуры

- Моки для API запросов находятся в `cypress/fixtures`
- Моки для WebSocket соединения находятся в `cypress/support/commands.ts`
